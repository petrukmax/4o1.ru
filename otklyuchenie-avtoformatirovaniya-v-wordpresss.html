<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>От­клю­чение ав­то­фор­ма­ти­ро­ва­ния в WordPresss - Blog</title><meta name="description" content="Воз­мож­но, вы за­ме­ти­ли, что при пуб­ли­ка­ции по­стов в wordpress неко­то­рые сим­во­лы са­ми за­ме­ня­ют­ся на дру­гие, до­бав­ля­ют­ся спе­ци­аль­ные зна­ки аб­за­цев, от­сту­пы, пе­ре­но­сы строк.В WordPress есть функ­ция ав­то­ма­ти­че­ско­го фор­ма­ти­ро­ва­ния тек­ста в со­от­вет­ствии с пра­ви­ла­ми движ­ка, ко­то­рые за­ча­стую не по­да­ют­ся ло­ги­ке и ча­ще все­го ме­ша­ют пуб­ли­ко­вать опре­де­лен­ный по­стов (на­при­мер, с ис­ход­ным ко­дом, ко­то­рый в изоби­лии име­ет­ся в ко­дер­ских бло­гах). Как ре­шить эту про­бле­му мы и рас­смот­рим в этом по­сту."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="http://4o1.ru/otklyuchenie-avtoformatirovaniya-v-wordpresss.html"><link rel="alternate" type="application/atom+xml" href="http://4o1.ru/feed.xml"><link rel="alternate" type="application/json" href="http://4o1.ru/feed.json"><meta property="og:title" content="От­клю­чение ав­то­фор­ма­ти­ро­ва­ния в WordPresss"><meta property="og:site_name" content="Blog"><meta property="og:description" content="Воз­мож­но, вы за­ме­ти­ли, что при пуб­ли­ка­ции по­стов в wordpress неко­то­рые сим­во­лы са­ми за­ме­ня­ют­ся на дру­гие, до­бав­ля­ют­ся спе­ци­аль­ные зна­ки аб­за­цев, от­сту­пы, пе­ре­но­сы строк.В WordPress есть функ­ция ав­то­ма­ти­че­ско­го фор­ма­ти­ро­ва­ния тек­ста в со­от­вет­ствии с пра­ви­ла­ми движ­ка, ко­то­рые за­ча­стую не по­да­ют­ся ло­ги­ке и ча­ще все­го ме­ша­ют пуб­ли­ко­вать опре­де­лен­ный по­стов (на­при­мер, с ис­ход­ным ко­дом, ко­то­рый в изоби­лии име­ет­ся в ко­дер­ских бло­гах). Как ре­шить эту про­бле­му мы и рас­смот­рим в этом по­сту."><meta property="og:url" content="http://4o1.ru/otklyuchenie-avtoformatirovaniya-v-wordpresss.html"><meta property="og:type" content="article"><link rel="stylesheet" href="http://4o1.ru/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="http://4o1.ru/assets/css/style.css?v=9274fb62a8095432057114afc1a7f7fc"><noscript><link rel="stylesheet" href="http://4o1.ru/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"http://4o1.ru/otklyuchenie-avtoformatirovaniya-v-wordpresss.html"},"headline":"От­клю­чение ав­то­фор­ма­ти­ро­ва­ния в WordPresss","datePublished":"2013-09-19T17:31+04:00","dateModified":"2024-08-19T17:47+03:00","description":"Воз­мож­но, вы за­ме­ти­ли, что при пуб­ли­ка­ции по­стов в wordpress неко­то­рые сим­во­лы са­ми за­ме­ня­ют­ся на дру­гие, до­бав­ля­ют­ся спе­ци­аль­ные зна­ки аб­за­цев, от­сту­пы, пе­ре­но­сы строк.В WordPress есть функ­ция ав­то­ма­ти­че­ско­го фор­ма­ти­ро­ва­ния тек­ста в со­от­вет­ствии с пра­ви­ла­ми движ­ка, ко­то­рые за­ча­стую не по­да­ют­ся ло­ги­ке и ча­ще все­го ме­ша­ют пуб­ли­ко­вать опре­де­лен­ный по­стов (на­при­мер, с ис­ход­ным ко­дом, ко­то­рый в изоби­лии име­ет­ся в ко­дер­ских бло­гах). Как ре­шить эту про­бле­му мы и рас­смот­рим в этом по­сту.","author":{"@type":"Person","name":"GUIDETO","url":"http://4o1.ru/authors/admin/"},"publisher":{"@type":"Organization","name":"GUIDETO"}}</script><style>#wrapper > .bg {
               background-image: url(http://4o1.ru/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url();
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo" href="http://4o1.ru/">Blog</a></header><nav id="nav"><ul class="links"><li><a href="http://4o1.ru/tags/kouching/" target="_self">Коучинг</a></li><li><a href="http://4o1.ru/tags/psixologiya/" target="_self">Психология</a></li><li><a href="http://4o1.ru/tags/knigi/" target="_self">Книги</a></li><li><a href="http://4o1.ru/tags/video/" target="_self">Видео</a></li><li><a href="http://4o1.ru/tags/biz/" target="_self">Бизнес</a></li><li><a href="http://4o1.ru/tags/bez-rubriki/" target="_self">Без рубрики</a></li><li><a href="http://4o1.ru/tags/audiobook/" target="_self">Аудиокниги</a></li><li><a href="http://4o1.ru/tags/anglijskij/" target="_self">Английский</a></li><li class="has-submenu"><a href="http://4o1.ru/tags/it/" target="_self" aria-haspopup="true">IT</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="http://4o1.ru/tags/wordpress/" target="_self">WordPress</a></li><li><a href="http://4o1.ru/tags/seo/" target="_self">SEO</a></li><li class="has-submenu"><a href="http://4o1.ru/tags/yazyki/" target="_self" aria-haspopup="true">Языки</a><ul class="nav__submenu level-3" aria-hidden="true"><li><a href="http://4o1.ru/tags/html/" target="_self">HTML</a></li><li><a href="http://4o1.ru/tags/php/" target="_self">PHP</a></li></ul></li><li><a href="http://4o1.ru/tags/hard/" target="_self">Железо</a></li><li><a href="http://4o1.ru/tags/android/" target="_self">Android</a></li><li class="has-submenu"><a href="http://4o1.ru/tags/windows/" target="_self" aria-haspopup="true">Windows</a><ul class="nav__submenu level-3" aria-hidden="true"><li><a href="http://4o1.ru/tags/iis/" target="_self">IIS</a></li></ul></li><li class="has-submenu"><a href="http://4o1.ru/tags/unix/" target="_self" aria-haspopup="true">Unix</a><ul class="nav__submenu level-3" aria-hidden="true"><li><a href="http://4o1.ru/tags/apache/" target="_self">Apache</a></li><li><a href="http://4o1.ru/tags/asterisk/" target="_self">Asterisk</a></li></ul></li></ul></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2013-09-19T17:31" class="date">сентябрь 19, 2013</time><h1>От­клю­чение ав­то­фор­ма­ти­ро­ва­ния в WordPresss</h1><p class="post__inner"></p></header><div class="post__inner post__entry"><p><a href="http://4o1.ru/media/posts/117/formar-full2.jpg" rel="lightbox[1447]"><img loading="lazy" title="Wordpress редактор - Отключаем автоформатирование в wordpress" alt="Wordpress редактор - Отключаем автоформатирование в wordpress" src="http://4o1.ru/media/posts/117/formar-full2.jpg" width="600" height="150" sizes="(max-width: 48em) 100vw, 768px" srcset="http://4o1.ru/media/posts/117/responsive/formar-full2-xs.jpg 300w, http://4o1.ru/media/posts/117/responsive/formar-full2-sm.jpg 480w, http://4o1.ru/media/posts/117/responsive/formar-full2-md.jpg 768w, http://4o1.ru/media/posts/117/responsive/formar-full2-lg.jpg 1024w, http://4o1.ru/media/posts/117/responsive/formar-full2-xl.jpg 1360w, http://4o1.ru/media/posts/117/responsive/formar-full2-2xl.jpg 1600w"></a></p><p>Воз­мож­но, вы за­ме­ти­ли, что при пуб­ли­ка­ции по­стов в wordpress неко­то­рые сим­во­лы са­ми за­ме­ня­ют­ся на дру­гие, до­бав­ля­ют­ся спе­ци­аль­ные зна­ки аб­за­цев, от­сту­пы, пе­ре­но­сы строк.В WordPress есть функ­ция ав­то­ма­ти­че­ско­го фор­ма­ти­ро­ва­ния тек­ста в со­от­вет­ствии с пра­ви­ла­ми движ­ка, ко­то­рые за­ча­стую не по­да­ют­ся ло­ги­ке и ча­ще все­го ме­ша­ют пуб­ли­ко­вать опре­де­лен­ный по­стов (на­при­мер, с ис­ход­ным ко­дом, ко­то­рый в изоби­лии име­ет­ся в ко­дер­ских бло­гах). Как ре­шить эту про­бле­му мы и рас­смот­рим в этом по­сту.</p><p>Есть два спо­со­ба по­бо­роть эту на­пасть, от­клю­чить ав­то­фор­ма­ти­ро­ва­ние пол­но­стью или ча­стич­но толь­ко в опре­де­лен­ном шор­ко­де. Для се­бя вы­брал пер­вый ва­ри­ант для ме­ня так про­ще дер­жать все под кон­тро­лем неже­ли на­де­ять­ся на нело­гич­ное фор­ма­ти­ро­ва­ние движ­ка. Для тех кто пло­хо раз­би­ра­ет­ся в <strong>html</strong> или не хо­чет тра­тить свое вре­мя на это, то ему по­дой­дет вто­рой ва­ри­ант, что бы не при­хо­ди­лось са­мо­сто­я­тель­но рас­став­лять все те­ги в тек­сте сво­и­ми ру­ка­ми.</p><h2>1. ОТ­КЛЮ­ЧЕ­НИЕ АВ­ТО­ФОР­МА­ТИ­РО­ВА­НИЕ ПОЛ­НО­СТЬЮ</h2><p></p><h3>А . Как от­клю­чить ав­то­фор­ма­ти­ро­ва­ние p и br</h3><p>При пуб­ли­ка­ции по­стов в WordPress по умол­ча­нию фор­ма­ти­ру­ет­ся вве­ден­ный текст, за­клю­чая аб­за­цы в тег</p><pre>p</pre><p>. А так же встав­ля­ет пе­ре­нос на но­вую стро­ку</p><pre></pre><p><restore-line-break><restore-line-break>в про­из­воль­ных слу­ча­ях, ко­гда и как за­хо­чет­ся wordpress.<restore-line-break><restore-line-break><restore-line-break><restore-line-break>От­клю­чать мож­но до­ба­вив в файл <strong>functions.​php</strong> те­мы строч­ку ко­да:<restore-line-break><restore-line-break><div id="crayon-523afbf14c991133974073" data-settings=" minimize scroll-mouseover wrap"><restore-line-break><restore-line-break><div data-settings=" show"><restore-line-break><restore-line-break><div title="Включить/Отключить нумерацию строк"></div><p><restore-line-break><restore-line-break><div title="Показать код в новом окне"></div><p><restore-line-break><restore-line-break>PHP</restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break><div></div><p><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><table><restore-line-break><restore-line-break><tbody><restore-line-break><restore-line-break><tr><restore-line-break><restore-line-break><td data-settings="show"><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><div data-line="crayon-523afbf14c991133974073-1">1</div><p><restore-line-break><restore-line-break><div data-line="crayon-523afbf14c991133974073-2">2</div><p><restore-line-break><restore-line-break><div data-line="crayon-523afbf14c991133974073-3">3</div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div></restore-line-break></restore-line-break></td><p><restore-line-break><restore-line-break><td><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><div id="crayon-523afbf14c991133974073-1">remove_filter( 'the_content', 'wpautop' ); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в пол­ном по­сте</div><p><restore-line-break><restore-line-break><div id="crayon-523afbf14c991133974073-2">remove_filter( 'the_excerpt', 'wpautop' ); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в крат­ком(анон­се) по­сте</div><p><restore-line-break><restore-line-break><div id="crayon-523afbf14c991133974073-3">remove_filter('comment_text', 'wpautop'); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в ком­мен­та­ри­ях</div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div></restore-line-break></restore-line-break></td><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></tr><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></tbody><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></table><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break>ес­ли вам на­до вы­клю­чить ав­то­фор­ма­ти­ро­ва­ние толь­ко в опре­де­лен­ных стра­ни­цах, то в шаб­лоне нуж­ной вам стра­ни­цы, пе­ред вы­во­дом кон­тен­та по­ста:<restore-line-break><restore-line-break><div id="crayon-523afbf14c99b982310037" data-settings=" minimize scroll-mouseover wrap"><restore-line-break><restore-line-break><div data-settings=" show"><restore-line-break><restore-line-break><div title="Включить/Отключить нумерацию строк"></div><p><restore-line-break><restore-line-break><div title="Показать код в новом окне"></div><p><restore-line-break><restore-line-break>PHP</restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break><div></div><p><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><table><restore-line-break><restore-line-break><tbody><restore-line-break><restore-line-break><tr><restore-line-break><restore-line-break><td data-settings="show"><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><div data-line="crayon-523afbf14c99b982310037-1">1</div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div></restore-line-break></restore-line-break></td><p><restore-line-break><restore-line-break><td><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><div id="crayon-523afbf14c99b982310037-1">the_content();</div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div></restore-line-break></restore-line-break></td><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></tr><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></tbody><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></table><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break>необ­хо­ди­мо до­ба­вить:<restore-line-break><restore-line-break><div id="crayon-523afbf14c9a0672967484" data-settings=" minimize scroll-mouseover wrap"><restore-line-break><restore-line-break><div data-settings=" show"><restore-line-break><restore-line-break><div title="Включить/Отключить нумерацию строк"></div><p><restore-line-break><restore-line-break><div title="Показать код в новом окне"></div><p><restore-line-break><restore-line-break>PHP</restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break><div></div><p><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><table><restore-line-break><restore-line-break><tbody><restore-line-break><restore-line-break><tr><restore-line-break><restore-line-break><td data-settings="show"><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><div data-line="crayon-523afbf14c9a0672967484-1">1</div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div></restore-line-break></restore-line-break></td><p><restore-line-break><restore-line-break><td><restore-line-break><restore-line-break><div><restore-line-break><restore-line-break><div id="crayon-523afbf14c9a0672967484-1">remove_filter( 'the_content', 'wpautop' ); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в пол­ном по­сте</div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div></restore-line-break></restore-line-break></td><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></tr><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></tbody><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></table><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></div><p><restore-line-break><restore-line-break><h3>Б . Как от­клю­чить ав­то­фор­ма­ти­ро­ва­ние спец­сим­во­лов</h3><p><restore-line-break><restore-line-break>В за­да­чи функ­ции фор­ма­ти­ро­ва­ния тек­ста вхо­дит из­ме­нить текст на бо­лее пра­виль­ный, чи­та­е­мый и ви­зу­аль­но при­вле­ка­тель­ный.<restore-line-break><restore-line-break><restore-line-break><restore-line-break>Текст из­ме­ня­ет­ся сле­ду­ю­щим об­ра­зом:<restore-line-break><restore-line-break><pre>"текст в кавычках" станет “текстом в лапках”<restore-line-break><restore-line-break>'текст в кавычках' станет ‘текстом в лапках’<restore-line-break><restore-line-break>          --- станет —<restore-line-break><restore-line-break>           -- станет –<restore-line-break><restore-line-break>          ... станет …<restore-line-break><restore-line-break>          (c) станет ©<restore-line-break><restore-line-break>          (r) станет ®<restore-line-break><restore-line-break>         (tm) станет ™<restore-line-break><restore-line-break>           '' станет ”<restore-line-break><restore-line-break>           <code></code> станет “<restore-line-break><restore-line-break>  president's станет president’s<restore-line-break><restore-line-break>  presidents' станет presidents’<restore-line-break><restore-line-break>          12' станет 12′<restore-line-break><restore-line-break>          12" станет 12″<restore-line-break><restore-line-break>          2x4 станет 2×4</restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></pre><p>Ино­гда это мо­жет стать про­бле­мой для блогге­ра. Для пуб­ли­ка­ции обыч­ных тек­стов та­кая оп­ция вполне удоб­на, но лю­бо­го, кто в соб­ствен­ном бло­ге об­суж­да­ет код, это се­рьез­но раз­дра­жа­ет: при встав­ке в тек­сто­вый ре­дак­тор пар­ные ка­выч­ки воз­вра­ща­ют син­так­си­че­скую ошиб­ку.</p><p>Ес­ли вам необ­хо­ди­мо от­клю­чить дан­ную функ­ции, то вы­пол­ни­те сле­ду­ю­щие дей­ствия.</p><p>До­бав­ля­ем в файл <strong>functions.​php</strong> сле­ду­ю­щие стро­ки:</p><div id="crayon-523afbf14c9a6713121249" data-settings=" minimize scroll-mouseover wrap"><div data-settings=" show"><div title="Включить/Отключить нумерацию строк"></div></div></div></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></p><div title="Показать код в новом окне"></div><p>PHP</p></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></restore-line-break></restore-line-break></p></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></p></div><p></p><div></div><p></p><div><table><tbody><tr><td data-settings="show"><div><div data-line="crayon-523afbf14c9a6713121249-1">1</div><p></p><div data-line="crayon-523afbf14c9a6713121249-2">2</div><p></p><div data-line="crayon-523afbf14c9a6713121249-3">3</div></div></td><td><div><div id="crayon-523afbf14c9a6713121249-1">remove_filter('the_content','wptexturize'); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в пол­ном по­сте</div><p></p><div id="crayon-523afbf14c9a6713121249-2">remove_filter('the_excerpt','wptexturize'); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в крат­ком(анон­се) по­сте</div><p></p><div id="crayon-523afbf14c9a6713121249-3">remove_filter('comment_text', 'wptexturize'); // От­клю­ча­ем ав­то­фор­ма­ти­ро­ва­ние в ком­мен­та­ри­ях</div></div></td></tr></tbody></table></div></article></main></div><h2>2. ОТ­КЛЮ­ЧЕ­НИЕ АВ­ТО­ФОР­МА­ТИ­РО­ВА­НИЕ ЧА­СТИЧ­НО</h2><p>А вот воз­мож­ность от­клю­чать ав­то­ма­ти­че­ское фор­ма­ти­ро­ва­ние для опре­де­лен­ной ча­сти тек­ста бы­ло бы по­лез­ным для мно­гих.</p><p>Пер­вым де­лом мы со­зда­ем функ­цию, до­ста­точ­но вста­вить в файл <strong>functions.​php</strong> пред­став­лен­ный ни­же код:</p><div id="crayon-523afbf14c9ab117393761" data-settings=" minimize scroll-mouseover wrap"><div data-settings=" show"><div title="Включить/Отключить нумерацию строк"></div><p></p><div title="Показать код в новом окне"></div><p>PHP</p></div><p></p><div></div><p></p><div><table><tbody><tr><td data-settings="show"><div><div data-line="crayon-523afbf14c9ab117393761-1">1</div><p></p><div data-line="crayon-523afbf14c9ab117393761-2">2</div><p></p><div data-line="crayon-523afbf14c9ab117393761-3">3</div><p></p><div data-line="crayon-523afbf14c9ab117393761-4">4</div><p></p><div data-line="crayon-523afbf14c9ab117393761-5">5</div><p></p><div data-line="crayon-523afbf14c9ab117393761-6">6</div><p></p><div data-line="crayon-523afbf14c9ab117393761-7">7</div><p></p><div data-line="crayon-523afbf14c9ab117393761-8">8</div><p></p><div data-line="crayon-523afbf14c9ab117393761-9">9</div><p></p><div data-line="crayon-523afbf14c9ab117393761-10">10</div><p></p><div data-line="crayon-523afbf14c9ab117393761-11">11</div><p></p><div data-line="crayon-523afbf14c9ab117393761-12">12</div><p></p><div data-line="crayon-523afbf14c9ab117393761-13">13</div><p></p><div data-line="crayon-523afbf14c9ab117393761-14">14</div><p></p><div data-line="crayon-523afbf14c9ab117393761-15">15</div><p></p><div data-line="crayon-523afbf14c9ab117393761-16">16</div><p></p><div data-line="crayon-523afbf14c9ab117393761-17">17</div><p></p><div data-line="crayon-523afbf14c9ab117393761-18">18</div><p></p><div data-line="crayon-523afbf14c9ab117393761-19">19</div><p></p><div data-line="crayon-523afbf14c9ab117393761-20">20</div><p></p><div data-line="crayon-523afbf14c9ab117393761-21">21</div></div></td><td><div><div id="crayon-523afbf14c9ab117393761-1">function my_formatter($content) {</div><p></p><div id="crayon-523afbf14c9ab117393761-2">$new_content = '';</div><p></p><div id="crayon-523afbf14c9ab117393761-3">$pattern_full = '{(\[raw\].*?\[/raw\])}is';</div><p></p><div id="crayon-523afbf14c9ab117393761-4">$pattern_contents = '{\[raw\](.*?)\[/raw\]}is';</div><p></p><div id="crayon-523afbf14c9ab117393761-5">$pieces = preg_split($pattern_full, $content, -1, PREG_SPLIT_DELIM_CAPTURE);</div><p></p><div id="crayon-523afbf14c9ab117393761-6"></div><p></p><div id="crayon-523afbf14c9ab117393761-7">foreach ($pieces as $piece) {</div><p></p><div id="crayon-523afbf14c9ab117393761-8">if (preg_match($pattern_contents, $piece, $matches)) {</div><p></p><div id="crayon-523afbf14c9ab117393761-9">$new_content .= $matches[1];</div><p></p><div id="crayon-523afbf14c9ab117393761-10">} else {</div><p></p><div id="crayon-523afbf14c9ab117393761-11">$new_content .= wptexturize(wpautop($piece));</div><p></p><div id="crayon-523afbf14c9ab117393761-12">}</div><p></p><div id="crayon-523afbf14c9ab117393761-13">}</div><p></p><div id="crayon-523afbf14c9ab117393761-14"></div><p></p><div id="crayon-523afbf14c9ab117393761-15">return $new_content;</div><p></p><div id="crayon-523afbf14c9ab117393761-16">}</div><p></p><div id="crayon-523afbf14c9ab117393761-17"></div><p></p><div id="crayon-523afbf14c9ab117393761-18">remove_filter('the_content', 'wpautop');</div><p></p><div id="crayon-523afbf14c9ab117393761-19">remove_filter('the_content', 'wptexturize');</div><p></p><div id="crayon-523afbf14c9ab117393761-20"></div><p></p><div id="crayon-523afbf14c9ab117393761-21">add_filter('the_content', 'my_formatter', 99);</div></div></td></tr></tbody></table></div></div><p>По­сле это­го мож­но ис­поль­зо­вать в за­пи­сях шор­код</p><pre>[raw]</pre><p>, с по­мо­щью ко­то­ро­го мож­но вы­де­лять текст, на ко­то­рый не бу­дет рас­про­стра­нят­ся ав­то­ма­ти­че­ское фор­ма­ти­ро­ва­ние:</p><div id="crayon-523afbf14c9b1967803548" data-settings=" minimize scroll-mouseover wrap"><div data-settings=" show"><div title="Включить/Отключить нумерацию строк"></div><p></p><div title="Включить/Отключить подсветку кода"></div><p>XHTML</p></div><p></p><div></div><p></p><div><table><tbody><tr><td data-settings="show"><div><div data-line="crayon-523afbf14c9b1967803548-1">1</div></div></td><td><div><div id="crayon-523afbf14c9b1967803548-1">[raw]Этот текст не бу­дет ав­то­ма­ти­че­ски от­фор­ма­ти­ро­ван.[/raw]</div><p>&nbsp;</p></div></td></tr></tbody></table></div></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on август 19, 2024</p><div class="post__share-tag-container"><div class="post__tag"><h3>Tagged in:</h3><ul><li><a href="http://4o1.ru/tags/wordpress/">WordPress</a></li></ul></div><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"></div></div></div><div class="post__bio"><div><h3><a href="http://4o1.ru/authors/admin/" class="invert" rel="author">GUIDETO</a></h3></div></div></footer><footer id="copyright"><ul><li>&copy; Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by Publii</li></ul></footer><script src="http://4o1.ru/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="http://4o1.ru/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="http://4o1.ru/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="http://4o1.ru/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="http://4o1.ru/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="http://4o1.ru/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="http://4o1.ru/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>